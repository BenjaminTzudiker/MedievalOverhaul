<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!-- ============================== Crossbows ========================== -->
  <ThingDef ParentName="BaseWeaponNeolithic">
    <defName>DankPyon_Crossbow</defName>
    <label>crossbow</label>
    <description>A projectile launching weapon that, much like the bow, relies on a string pulled back for tension and propels a projectile upon release. However, the crossbow allows the wielder to maintain the draw thanks to the crossbow’s locking mechanism, thus making the ranged weapon both accessible to novices and powerful in combat.</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/Crossbow</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Bow_Recurve</soundInteract>
    <costList>
      <WoodLog>50</WoodLog>
      <DankPyon_IronIngot>20</DankPyon_IronIngot>
    </costList>
    <statBases>
      <WorkToMake>14000</WorkToMake>
      <Mass>2.5</Mass>
      <AccuracyTouch>0.86</AccuracyTouch>
      <AccuracyShort>0.85</AccuracyShort>
      <AccuracyMedium>0.67</AccuracyMedium>
      <AccuracyLong>0.38</AccuracyLong>
      <RangedWeapon_Cooldown>2</RangedWeapon_Cooldown>
    </statBases>
    <equippedStatOffsets>
      <ShootingAccuracyPawn>2</ShootingAccuracyPawn>
    </equippedStatOffsets>
    <weaponTags>
      <li>DankPyon_Crossbow</li>
    </weaponTags>
    <weaponClasses>
      <li>Ranged</li>
      <li>RangedHeavy</li>
    </weaponClasses>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>DankPyon_Workbench</li>
      </recipeUsers>
      <researchPrerequisite>DankPyon_Crossbow</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
      </skillRequirements>
    </recipeMaker>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>DankPyon_Arrow_Crossbow</defaultProjectile>
        <warmupTime>1.35</warmupTime>
        <range>25.9</range>
        <soundCast>Bow_Recurve</soundCast>
      </li>
    </verbs>
    <tools>
      <li>
        <label>limb</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  <ThingDef ParentName="BaseProjectileNeolithic">
    <defName>DankPyon_Arrow_Crossbow</defName>
    <label>hunting bow arrow</label>
    <graphicData>
      <texPath>Things/Projectile/Arrow_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>ArrowHighVelocity</damageDef>
      <damageAmountBase>16</damageAmountBase>
      <stoppingPower>1.2</stoppingPower>
      <speed>60</speed>
    </projectile>
  </ThingDef>
  
  <ThingDef ParentName="BaseWeaponNeolithic">
    <defName>DankPyon_CrossbowHeavy</defName>
    <label>arbalest</label>
    <description>Although cumbersome to carry, the heavy crossbow is capable of inflicting heavy damage and piercing armored foes. Longer range and higher damage than the crossbow but takes time to reload. This makes the heavy crossbow a formidable defensive weapon and otherwise most effective in a group.</description>
    <graphicData>
      <texPath>Things/Item/Equipment/WeaponRanged/CrossbowHeavy</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(1.17,1.17)</drawSize>
    </graphicData>
    <!--comps>
      <li><compClass>CompOversizedWeapon.CompOversizedWeapon</compClass></li>
    </comps-->
    <soundInteract>Bow_Large</soundInteract>
    <costList>
      <WoodLog>60</WoodLog>
      <DankPyon_IronIngot>25</DankPyon_IronIngot>
    </costList>
    <statBases>
      <WorkToMake>16000</WorkToMake>
      <Mass>4</Mass>
      <AccuracyTouch>0.86</AccuracyTouch>
      <AccuracyShort>0.9</AccuracyShort>
      <AccuracyMedium>0.76</AccuracyMedium>
      <AccuracyLong>0.54</AccuracyLong>
      <RangedWeapon_Cooldown>3</RangedWeapon_Cooldown>
    </statBases>
    <equippedStatOffsets>
      <ShootingAccuracyPawn>2</ShootingAccuracyPawn>
    </equippedStatOffsets>
    <weaponTags>
      <li>DankPyon_Arbelest</li>
    </weaponTags>
    <weaponClasses>
      <li>Ranged</li>
      <li>RangedHeavy</li>
    </weaponClasses>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>DankPyon_Workbench</li>
      </recipeUsers>
      <researchPrerequisite>DankPyon_HeavyCrossbow</researchPrerequisite>
      <skillRequirements>
        <Crafting>6</Crafting>
      </skillRequirements>
    </recipeMaker>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>DankPyon_Arrow_CrossbowHeavy</defaultProjectile>
        <warmupTime>1.35</warmupTime>
        <range>28.9</range>
        <soundCast>Bow_Large</soundCast>
      </li>
    </verbs>
    <tools>
      <li>
        <label>limb</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  <ThingDef ParentName="BaseProjectileNeolithic">
    <defName>DankPyon_Arrow_CrossbowHeavy</defName>
    <label>hunting bow arrow</label>
    <graphicData>
      <texPath>Things/Projectile/Arrow_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>ArrowHighVelocity</damageDef>
      <damageAmountBase>21</damageAmountBase>
      <stoppingPower>2</stoppingPower>
      <armorPenetrationBase>0.25</armorPenetrationBase>
      <speed>60</speed>
    </projectile>
  </ThingDef>

  <!-- ============================== Firearms ========================== -->
  <ThingDef ParentName="BaseMakeableGun">
    <defName>DankPyon_Handgonne</defName>
    <label>handgonne</label>
    <description>War changes as the handgonnes take to the field; through powder and ignition, warriors fire hot shrapnel forward to pierce multiple targets. The long handle and heavy barrel make the weapon cumbersome to carry, but one skilled shot can turn the tides of battle in an instant.</description>
    <graphicData>
        <texPath>Things/Item/Equipment/WeaponRanged/Handgonne</texPath>
        <graphicClass>Graphic_Single</graphicClass>
        <drawSize>(1.17,1.17)</drawSize>
    </graphicData>
    <!--comps>
        <li><compClass>CompOversizedWeapon.CompOversizedWeapon</compClass></li>
    </comps-->
    <techLevel>Medieval</techLevel>
    <soundInteract>Interact_Rifle</soundInteract>
    <costList>
        <WoodLog>20</WoodLog>
        <DankPyon_IronIngot>30</DankPyon_IronIngot>
    </costList>
    <statBases>
        <WorkToMake>8000</WorkToMake>
        <Mass>4</Mass>
        <AccuracyTouch>0.87</AccuracyTouch>
        <AccuracyShort>0.78</AccuracyShort>
        <AccuracyMedium>0.62</AccuracyMedium>
        <AccuracyLong>0.45</AccuracyLong>
        <RangedWeapon_Cooldown>8</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
        <li>DankPyon_Handgonne</li>
    </weaponTags>
    <weaponClasses>
        <li>ShortShots</li>
    </weaponClasses>
    <recipeMaker Inherit="False">
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
          <li>DankPyon_Workbench</li>
      </recipeUsers>
      <researchPrerequisites>
        <li>DankPyon_Gunpowder</li>
        <li>Smithing</li>
      </researchPrerequisites>
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
      <skillRequirements>
          <Crafting>6</Crafting>
      </skillRequirements>
    </recipeMaker>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>DankPyon_Bullet_Handgonne</defaultProjectile>
        <warmupTime>1.35</warmupTime>
        <range>12.9</range>
        <soundCast>Shot_Shotgun</soundCast>
        <burstShotCount>3</burstShotCount>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
        <li>
            <label>stock</label>
            <capacities>
            <li>Blunt</li>
            </capacities>
            <power>9</power>
            <cooldownTime>2</cooldownTime>
        </li>
        <li>
            <label>barrel</label>
            <capacities>
            <li>Blunt</li>
            <li>Poke</li>
            </capacities>
            <power>9</power>
            <cooldownTime>2</cooldownTime>
        </li>
    </tools>
  </ThingDef>

  <ThingDef ParentName="BaseBullet">
      <defName>DankPyon_Bullet_Handgonne</defName>
      <label>handgonne blast</label>
      <graphicData>
          <texPath>Things/Projectile/Bullet_Small</texPath>
          <graphicClass>Graphic_Single</graphicClass>
      </graphicData>
      <projectile>
          <damageDef>Bullet</damageDef>
          <damageAmountBase>15</damageAmountBase>
          <stoppingPower>3</stoppingPower>
          <armorPenetrationBase>0.10</armorPenetrationBase>
          <speed>70</speed>
      </projectile>
  </ThingDef>
  
  <ThingDef ParentName="BaseMakeableGun">
    <defName>DankPyon_Arquebus</defName>
    <label>arquebus</label>
    <description>With a longer barrel than more primitive firearms, the arquebus strikes farther and bites deeper, capable of piercing armor where arrows falter. Though slower to reload and still prone to misfire, its shoulder stock and trigger grant steadier aim, letting disciplined volleys break even the strongest charge.</description>
    <graphicData>
        <texPath>Things/Item/Equipment/WeaponRanged/Arquebus</texPath>
        <graphicClass>Graphic_Single</graphicClass>
        <drawSize>(1.17,1.17)</drawSize>
    </graphicData>
    <techLevel>Medieval</techLevel>
    <soundInteract>Interact_Rifle</soundInteract>
    <costList>
        <WoodLog>20</WoodLog>
        <DankPyon_IronIngot>65</DankPyon_IronIngot>
    </costList>
    <statBases>
        <WorkToMake>16000</WorkToMake>
        <Mass>5</Mass>
        <AccuracyTouch>0.86</AccuracyTouch>
        <AccuracyShort>0.9</AccuracyShort>
        <AccuracyMedium>0.76</AccuracyMedium>
        <AccuracyLong>0.54</AccuracyLong>
        <RangedWeapon_Cooldown>10</RangedWeapon_Cooldown>
    </statBases>
    <equippedStatOffsets>
        <ShootingAccuracyPawn>2</ShootingAccuracyPawn>
    </equippedStatOffsets>
    <weaponTags>
        <li>DankPyon_Arquebus</li>
    </weaponTags>
    <weaponClasses>
        <li>LongShots</li>
    </weaponClasses>
    <recipeMaker Inherit="False">
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
          <li>DankPyon_Workbench</li>
      </recipeUsers>
      <researchPrerequisites>
        <li>DankPyon_Arquebus</li>
      </researchPrerequisites>
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
      <skillRequirements>
          <Crafting>10</Crafting>
      </skillRequirements>
    </recipeMaker>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>DankPyon_Bullet_Arquebus</defaultProjectile>
        <warmupTime>1.35</warmupTime>
        <range>28.9</range>
        <soundCast>Shot_Shotgun</soundCast>
        <burstShotCount>1</burstShotCount>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
        <li>
            <label>stock</label>
            <capacities>
            <li>Blunt</li>
            </capacities>
            <power>9</power>
            <cooldownTime>2</cooldownTime>
        </li>
        <li>
            <label>barrel</label>
            <capacities>
            <li>Blunt</li>
            <li>Poke</li>
            </capacities>
            <power>9</power>
            <cooldownTime>2</cooldownTime>
        </li>
    </tools>
  </ThingDef>

  <ThingDef ParentName="BaseBullet">
      <defName>DankPyon_Bullet_Arquebus</defName>
      <label>handgonne blast</label>
      <graphicData>
          <texPath>Things/Projectile/Bullet_Big</texPath>
          <graphicClass>Graphic_Single</graphicClass>
      </graphicData>
      <projectile>
          <damageDef>Bullet</damageDef>
          <damageAmountBase>24</damageAmountBase>
          <stoppingPower>3</stoppingPower>
          <armorPenetrationBase>0.30</armorPenetrationBase>
          <speed>70</speed>
      </projectile>
  </ThingDef>

</Defs>
